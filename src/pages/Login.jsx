import { useState, useContext } from "react";
import { UserContext } from "../UserContext";

export default function Login() {
  const [username, setUsername] = useState("");
  const [password, setPassword] = useState("");
  const { login } = useContext(UserContext);

  const handleLogin = (e) => {
    e.preventDefault();
    console.log(password)
    if (password === 'picker' || password === 'manager' || password === 'admin' || password === 'supplier') {
      login(username.toLowerCase(), password.toLowerCase());
    } else {
      alert("Invalid credentials");
    }
  };

  return (
    <div className="min-h-screen flex items-center justify-center bg-[#111827]">
      <div className="bg-[#1f2937] p-10 rounded-lg shadow-lg w-200 border border-gray-700">
        <div className="flex items-center justify-center">
          <svg width="400" height="100" viewBox="0 0 430 78" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M44.9279 8.54418V27.0722C43.9679 24.9602 42.9119 23.2322 41.7599 21.6962C39.5519 19.0082 36.8639 16.8002 33.6959 15.0722C29.2799 12.5762 25.4399 11.6162 22.1759 12.0962C19.0079 12.6722 16.7999 14.1122 15.5519 16.3202C14.7839 17.7602 14.4959 19.2002 14.7839 20.5442C15.0719 21.9842 15.8399 23.3282 16.8959 24.6722C17.9519 26.0162 19.2959 27.2642 20.8319 28.5122C22.3679 29.7602 24.4799 31.2962 27.0719 33.2162C30.7199 35.9042 33.6959 38.2082 35.9999 40.2242C38.3039 42.2402 40.4159 44.5442 42.0479 47.0402C43.7759 49.6322 44.7359 52.4162 44.9279 55.5842C45.1199 58.7522 44.1599 62.2082 42.2399 65.7602C40.4159 69.0242 38.0159 71.6162 35.0399 73.4402C32.0639 75.2642 28.7999 76.4162 25.1519 76.8002C21.4079 77.1842 17.6639 76.9922 13.7279 76.1282C9.7919 75.1682 5.9519 73.7282 2.3039 71.7122C1.5359 71.3282 0.863899 70.8482 0.0958985 70.4642V52.8962C2.4959 56.1602 5.4719 58.8482 8.9279 60.7682C13.6319 63.2642 17.7599 64.4162 21.5039 64.2242C25.1519 64.1282 27.8399 62.5922 29.4719 59.5202C30.2399 58.0802 30.5279 56.6402 30.2399 55.2002C29.9519 53.7602 29.2799 52.4162 28.1279 51.0722C26.9759 49.7282 25.6319 48.4802 23.9999 47.1362C22.4639 45.8882 20.4479 44.3522 17.9519 42.4322C14.1119 39.6482 11.1359 37.2482 8.9279 35.3282C6.7199 33.4082 4.7039 31.1042 3.0719 28.6082C1.3439 26.1122 0.383899 23.2322 0.191899 20.0642C-0.000101328 16.9922 0.863899 13.6322 2.7839 10.0802C4.3199 7.29619 6.4319 5.08819 9.0239 3.45618C11.7119 1.82418 14.7839 0.768185 18.1439 0.384184C21.5039 0.000183105 25.0559 0.192186 28.7999 1.05619C32.5439 1.92018 36.1919 3.36019 39.8399 5.28018C41.6639 6.33618 43.2959 7.39219 44.9279 8.54418ZM87.0126 0.192186H96.8046L129.253 76.9922H113.989L110.821 69.2162H72.9006L69.7326 76.9922H54.5646L87.0126 0.192186ZM97.9567 37.1522L92.0047 22.3682L85.9566 37.1522H97.9567ZM105.733 56.4482L103.141 49.9202H80.7726L78.0847 56.4482H105.733ZM175.518 13.6322V30.6242H187.71V44.1602H175.518V76.9922H161.31V44.1602H149.118V30.6242H161.31V13.6322H138.846V0.192186H198.078V13.6322H175.518ZM275.914 0.192186V44.2562C275.914 48.5762 275.05 52.8002 273.418 56.7362C273.034 57.7922 272.554 58.8482 272.074 59.8082H271.978C270.538 62.5922 268.714 65.0882 266.506 67.2962C263.434 70.3682 259.882 72.7682 255.658 74.4002C251.434 76.1282 246.826 76.9922 241.738 76.9922C236.746 76.9922 232.138 76.1282 227.914 74.4002C223.69 72.7682 220.138 70.3682 217.066 67.2962C214.09 64.2242 211.69 60.7682 210.058 56.7362C208.426 52.8002 207.658 48.5762 207.658 44.2562V0.192186H221.866L261.226 46.9442C261.514 45.1202 261.706 43.2002 261.706 41.1842V0.192186H275.914ZM221.866 19.9682V41.1842C221.866 48.0002 223.786 53.4722 227.626 57.5042C231.466 61.5362 236.17 63.5522 241.738 63.5522C246.826 63.5522 251.05 62.0162 254.602 58.8482L221.866 19.9682ZM294.591 0.192186H330.879C339.231 0.192186 345.855 2.68818 350.847 7.58418C355.839 12.4802 358.335 18.8162 358.335 26.4962C358.335 34.1762 355.839 40.4162 350.847 45.4082C348.351 47.9042 345.375 49.7282 342.111 50.9762L358.335 70.4642V76.9922H347.391L327.231 52.8002H308.703V76.9922H294.591V52.8002H285.471V39.3602H315.999L294.591 13.6322V0.192186ZM311.007 13.6322L332.319 39.1682C335.775 38.7842 338.559 37.6322 340.479 35.6162C342.975 33.2162 344.223 30.1442 344.223 26.4962C344.223 22.8482 342.975 19.7762 340.479 17.2802C338.079 14.8802 334.431 13.6322 329.823 13.6322H311.007ZM367.971 76.9922V0.192186H381.795L417.315 55.4882V0.192186H429.987V76.9922H416.067L398.979 50.3042L381.795 76.9922H367.971ZM380.547 55.4882L391.491 38.5922L380.547 21.6962V55.4882Z" fill="#018693" />
          </svg>
        </div>
        <form onSubmit={handleLogin} className="space-y-5 text-gray-200 mt-10 space">
          <label htmlFor="">Email Address:</label>
          <input
            type="text"
            placeholder="Enter your Email"
            value={username}
            onChange={(e) => setUsername(e.target.value)}
            className="w-full p-3 bg-transparent border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-cyan-500 placeholder-gray-500"
          />
          <label htmlFor="" className="text-gray-200">Password:</label>
          <input
            type="password"
            placeholder="Enter your Password"
            value={password}
            onChange={(e) => setPassword(e.target.value)}
            className="mt-2 w-full p-3 bg-transparent border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-cyan-500 placeholder-gray-500"
          />
          <button
            type="submit"
            className="w-full bg-cyan-600 text-white font-semibold py-3 rounded-md hover:bg-cyan-500 transition"
          >
            Sign in
          </button>
        </form>
      </div>
    </div>
  );
}
